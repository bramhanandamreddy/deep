"use strict";(self.webpackChunkhistory_sidebar=self.webpackChunkhistory_sidebar||[]).push([[746],{746:(e,t,n)=>{function a(e){return window&&window.open(e,"_self","noopener,noreferrer")}n.r(t),n.d(t,{Link:()=>M,OPEN_EXTENSION_URL:()=>B,PostmanTabsManager:()=>st,checkContextAndNavigate:()=>a,openExternalLink:()=>N,useAdditionalRouteContext:()=>H,useBeforeTabbedWindowUnload:()=>m,useCurrentPostmanTabContext:()=>f,useIsActivePostmanTab:()=>C,useLoaderData:()=>D,useLocation:()=>w,useMountOutletOnNav:()=>y,useNavigate:()=>V,usePostmanTabsContext:()=>h,useSearchParams:()=>R,useSetTabState:()=>Z,useSetTabTitle:()=>j,useTabTitleAndStateUpdates:()=>p,withRouter:()=>c});var i=n(7560),l=n(540),s=n.n(l),r=n(607),o=n(2322);function c(e){return t=>{const n=(0,r.useLocation)(),a=(0,r.useNavigate)(),l=(0,r.useParams)();return(0,o.jsx)(e,(0,i.Z)({location:n,navigate:a,params:l},t))}}var d=n(8283),u=n(4302);n(9605);const v=s().createContext(null),h=()=>(0,l.useContext)(v),b=s().createContext(null),f=()=>(0,l.useContext)(b),C=()=>{const e=h(),t=f(),{tabId:n}=t||{};return(null==e?void 0:e.activeTab)===n},p=()=>{const{pathname:e,search:t}=(0,r.useLocation)(),n=C(),{tabId:a,title:i,tabType:s,setTabState:o,isConflicted:c,isDirty:d}=f();(0,l.useEffect)((()=>{n&&i&&(o({title:i,tabType:s,isDirty:d,isConflicted:c}),globalThis.document.title=i)}),[n,a,i,s,d,c,o]),(0,l.useEffect)((()=>{o({currentlyActiveURL:e+t})}),[])},m=()=>{const{tabs:e,tabsMeta:t}=h();(0,l.useEffect)((()=>{const n=n=>(n.preventDefault(),e.find((e=>{var n;return null==(n=t[e.id])?void 0:n.isDirty}))||(n.returnValue="Are you sure you want to exit?"),n.returnValue);return window.addEventListener("beforeunload",n,{capture:!0}),()=>window.removeEventListener("beforeunload",n,{capture:!0})}),[])};var g=n(8722);const x=(e,...t)=>{const n=e(...t),a=h(),i=!!f(),s=C(),r=(0,l.useRef)(n);return(0,l.useEffect)((()=>{s&&(r.current=n)}),[s,n]),a&&i&&!s?r.current:n},w=()=>x(r.useLocation),T=(e,t)=>{const n=t[e.id];return!(null!=n&&n.isDirty||null!=n&&n.isConflicted||null!=n&&n.isPinned)},y=()=>{const{tabs:e,tabsMeta:t,setTabs:n,setTabsMeta:a,setActiveTab:s}=h(),o=w(),{state:c,pathname:d,search:u}=o,v=(0,r.useOutlet)(),b=(0,l.useMemo)((()=>v),[d+u]),f=(0,l.useCallback)(((t,a)=>{const i=e.map((e=>e.id===a?t:e));return s(t.id),n(i)}),[s,n,e]),C=(0,l.useCallback)(((l,r,o)=>{const c=(0,i.Z)({replacePreviewTab:!0,pinNewTab:!1},o),d=(0,g.v4)(),u={pathname:l,element:r,id:d},v=e.find((e=>T(e,t)));return v&&null!=c&&c.replacePreviewTab?f(u,v.id):(s(d),null!=c&&c.pinNewTab&&a((e=>(0,i.Z)({},e,{[d]:(0,i.Z)({},e[d],{isPinned:!0})}))),n((e=>[...e,{pathname:l,element:r,id:d}])))}),[e,f,s,n,t,a]);(0,l.useEffect)((()=>{if(!b)return;const t=(e=>{if("string"==typeof e)try{var t;return(null==(t=JSON.parse(e))?void 0:t.navigationParams)||{}}catch(e){return{}}return(null==e?void 0:e.navigationParams)||{}})(c),{tabId:n,newTab:a,sameTab:i}=t;if(a)return C(d,b,{replacePreviewTab:!1,pinNewTab:!0});if(i&&n&&-1!==e.findIndex((e=>e.id===n)))return f({id:(0,g.v4)(),pathname:d,element:b},n);if(n){var l;const t=null==(l=e.find((e=>e.id===n)))?void 0:l.id;if(t)return s(t)}const r=e.find((e=>e.pathname===d));return r?s(null==r?void 0:r.id):C(d,b)}),[b])},Z=e=>{const{setTabsMeta:t,activeTab:n}=h();return(0,l.useCallback)((a=>{n===e.id&&t((t=>{const n=(0,i.Z)({},t[e.id]),l={};return"title"in a&&(l.title=a.title||""),"isDirty"in a&&(l.isDirty=a.isDirty||!1),"isConflicted"in a&&(l.isConflicted=a.isConflicted||!1),"tabType"in a&&(l.tabType=a.tabType||"http"),"currentlyActiveURL"in a&&(l.currentlyActiveURL=a.currentlyActiveURL||""),(0,i.Z)({},t,{[e.id]:(0,i.Z)({},n,l)})}))}),[t,e.id,n])},j=e=>{const t=Z(e);return(0,l.useCallback)((e=>t({title:e})),[t])},E=["children","to"],k=["children","to"],L=e=>{let{children:t,to:n}=e,a=(0,d.Z)(e,E);const{tabId:l}=f()||{};return(0,o.jsx)(r.Link,(0,i.Z)({to:n},a,{state:(0,i.Z)({},a.state,{navigationParams:{sameTab:a.sameTab||!1,newTab:a.newTab||!1,tabId:a.sameTab||a.newTab?l:null}}),children:t}))},M=e=>{let{children:t,to:n}=e,a=(0,d.Z)(e,k);if(a.customNavEvent)return(0,o.jsx)(u.VSCodeLink,(0,i.Z)({to:n},a,{children:t}));const l=(0,i.Z)({},{target:"_self",rel:"noreferrer noopener"},a),s=n.toString();return new RegExp("https?:\\/\\/").test(s)?(0,o.jsx)("a",(0,i.Z)({href:s},l,{onClick:async e=>{a.onClick&&a.onClick(e),e.defaultPrevented},children:t})):(0,o.jsx)(L,(0,i.Z)({to:n},l,{children:t}))},V=()=>{const{tabId:e}=f()||{},t=(0,r.useNavigate)();return(n,a,l)=>{const s=(0,i.Z)({},a),r={sameTab:(null==l?void 0:l.sameTab)||!1,newTab:(null==l?void 0:l.newTab)||!1,tabId:null!=l&&l.sameTab||null!=l&&l.newTab?e:null};if(s.state=null!=a&&a.state&&"string"==typeof a.state?JSON.stringify((0,i.Z)({},JSON.parse(a.state),{navigationParams:r})):(0,i.Z)({},null==a?void 0:a.state,{navigationParams:r}),null==l||!l.customNavEvent||((0,u.vscodeNavigate)(n,a,l),l["customNavEvent-updateURL"]))return t(n,s)}},B="VIEW_COLLECTION_FOLDER_REQUEST";async function N(e){await(0,u.vsCodeOpenExternalLink)(e)}const H=()=>{const e=(0,r.useLocation)();return(0,l.useMemo)((()=>{const t=(e=>{try{var t;if(!e)return{};let n;return"string"==typeof e&&(n=JSON.parse(e)),(null==(t=n)?void 0:t.additionalContext)||{}}catch(e){return{}}})(e.state);return(0,i.Z)({},t,(()=>{try{var e;return(null==(e=JSON.parse(window.NAVIGATION_CONTEXT))||null==(e=e.params)||null==(e=e.state)?void 0:e.additionalContext)||{}}catch(e){return{}}})())}),[e.state])},R=()=>{const e=(0,r.useLocation)(),[t,n]=x(r.useSearchParams),a=h(),{setTabState:i,tabId:s}=f()||{};return[t,(0,l.useCallback)((t=>{if(n(t,{state:a&&s?{navigationParams:{tabId:s}}:void 0}),s&&a&&i){const n=t.toString(),a=`${e.pathname}${n?"?"+n:""}`;i({currentlyActiveURL:a})}}),[n,a,e.pathname,i,s])]},D=()=>x(r.useLoaderData);var S=n(7363),A=n(5892),P=n.n(A),I=n(605),O=n(207),$=s().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M8.5 7.5V2H7.5V7.5H2V8.5H7.5V14H8.5V8.5H14V7.5H8.5Z",fill:"#505050"})),U=s().forwardRef((function(e,t){return s().createElement(O.Z,(0,i.Z)({},e,{svg:$,ref:t}))}));U.getName=function(){return"icon-action-add-stroke"};const _=U;var F=n(4691),W=n(9824),q=n(7282),z=P().hr.withConfig({displayName:"MenuDivider__StyledMenuDivider",componentId:"dii7go-0"})(["border:none;border-bottom:",";margin:",";"],(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["border-color-default"],";")}),(function(e){return e.theme["spacing-s"]}));function J(){return s().createElement(z,null)}J.displayName="MenuDivider";const X=J,Y=({isOpen:e,forTabId:t,position:n,createNewRequest:a,closeMenu:i})=>{const{closeAllNonSelectedTabs:l,closeTab:s,closeAllTabs:r}=h();return(0,o.jsx)(F.Z,{isOpen:e,contextMenu:{posX:null==n?void 0:n.x,posY:null==n?void 0:n.y},closeMenu:i,children:(0,o.jsxs)(W.Z,{children:[(0,o.jsx)(q.Z,{onClick:a,children:"New Request"}),(0,o.jsx)(X,{}),(0,o.jsx)(q.Z,{onClick:()=>s(t),children:"Close Tab"}),(0,o.jsx)(q.Z,{onClick:()=>s(t,!0),children:"Force Close Tab"}),(0,o.jsx)(q.Z,{onClick:()=>l(),children:"Close Other Tabs"}),(0,o.jsx)(q.Z,{onClick:()=>r(),children:"Close All Tabs"}),(0,o.jsx)(q.Z,{onClick:()=>r(!0),children:"Force Close All Tabs"})]})})},Q=e=>(0,o.jsx)(Y,(0,i.Z)({},e));var G=n(8263),K=n(6914),ee=n(8560),te=n(9225),ne=s().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M2 2H14V1H2V2Z",fill:"#6B6B6B"}),s().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.74394 4C1.3022 4 0.970902 4.40413 1.05753 4.83728L2.97753 14.4373C3.04297 14.7645 3.33026 15 3.66394 15H12.336C12.6697 15 12.957 14.7645 13.0224 14.4373L14.9424 4.83728C15.0291 4.40413 14.6978 4 14.256 4H1.74394ZM3.90988 14L2.10988 5H13.8901L12.0901 14H3.90988Z",fill:"#6B6B6B"})),ae=s().forwardRef((function(e,t){return s().createElement(O.Z,(0,i.Z)({},e,{svg:ne,ref:t}))}));ae.getName=function(){return"icon-entity-collection-stroke"};const ie=ae;var le=s().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 1C1.67157 1 1 1.67157 1 2.5V13.5C1 14.3284 1.67157 15 2.5 15H13.5C14.3284 15 15 14.3284 15 13.5V4.5C15 3.67157 14.3284 3 13.5 3H8.70711L7.14645 1.43934C6.86514 1.15803 6.48361 1 6.08579 1H2.5ZM2 2.5C2 2.22386 2.22386 2 2.5 2H6.08579C6.21839 2 6.34557 2.05268 6.43934 2.14645L8.14645 3.85355C8.24021 3.94732 8.36739 4 8.5 4H13.5C13.7761 4 14 4.22386 14 4.5V6H2V2.5ZM2 7V13.5C2 13.7761 2.22386 14 2.5 14H13.5C13.7761 14 14 13.7761 14 13.5V7H2Z",fill:"#6B6B6B"})),se=s().forwardRef((function(e,t){return s().createElement(O.Z,(0,i.Z)({},e,{svg:le,ref:t}))}));se.getName=function(){return"icon-entity-folder-stroke"};const re=se;var oe=s().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"m12.654.046-.707.707L13.593 2.4H0v1h16.007L12.654.046ZM-.007 12.599l3.353 3.353.707-.707L2.407 13.6H16v-1H-.007ZM.011 11.2h.977V8.478h2.327V11.2h.98V4.927h-.98V7.64H.988V4.927H.01V11.2ZM4.784 5.768H5.9V11.2h.973V5.768h.92v-.84h-3.01v.84ZM9.283 5.768h-.916v-.84h3.01v.84h-1.12V11.2h-.974V5.768Z",fill:"#6B6B6B"}),s().createElement("path",{fillRule:"evenodd",d:"M11.87 11.2h.976V8.924h.927c1.501 0 2.244-.807 2.244-2.001 0-1.192-.736-1.996-2.24-1.996h-1.908V11.2Zm.976-3.104V5.765h.826c.967 0 1.362.424 1.362 1.158 0 .733-.395 1.173-1.35 1.173h-.838Z",fill:"#6B6B6B"})),ce=s().forwardRef((function(e,t){return s().createElement(O.Z,(0,i.Z)({},e,{svg:oe,ref:t}))}));ce.getName=function(){return"icon-entity-httpRequest-stroke"};const de=ce;var ue=n(4306),ve=n(9706),he=s().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.87192 9.72303C4.65304 9.77086 4.38605 9.79477 4.07096 9.79477C3.42152 9.79477 2.91401 9.61206 2.54841 9.24664C2.1828 8.88122 2 8.36375 2 7.69422C2 7.00507 2.16897 6.47227 2.50692 6.09581C2.84486 5.71935 3.31208 5.53113 3.9086 5.53113C4.47866 5.53113 4.92243 5.69667 5.23993 6.02776C5.55743 6.35884 5.71618 6.81623 5.71618 7.39992V7.94437H3.11485C3.12688 8.2632 3.21948 8.51212 3.39266 8.69115C3.56585 8.87018 3.80878 8.9597 4.12147 8.9597C4.3644 8.9597 4.59411 8.93395 4.81058 8.88245C5.02706 8.83094 5.25316 8.74879 5.48888 8.63597V9.50415C5.29645 9.60225 5.0908 9.67521 4.87192 9.72303ZM4.47144 6.55565C4.33433 6.40482 4.14913 6.32941 3.91581 6.32941C3.6825 6.32941 3.4997 6.40482 3.36741 6.55565C3.23512 6.70648 3.15935 6.92046 3.14011 7.19759H4.68431C4.67949 6.92046 4.60854 6.70648 4.47144 6.55565Z",fill:"#6B6B6B"}),s().createElement("path",{d:"M6.62177 9.65682C6.51112 9.54768 6.4558 9.39379 6.4558 9.19514C6.4558 8.98913 6.50992 8.8334 6.61816 8.72794C6.7264 8.62248 6.88394 8.56975 7.0908 8.56975C7.29044 8.56975 7.44498 8.62371 7.55442 8.73162C7.66386 8.83953 7.71858 8.99403 7.71858 9.19514C7.71858 9.38888 7.66326 9.54155 7.55262 9.65314C7.44197 9.76473 7.28803 9.82052 7.0908 9.82052C6.88875 9.82052 6.73241 9.76595 6.62177 9.65682Z",fill:"#6B6B6B"}),s().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.05712 9.41218L9.05458 9.41107C8.9426 9.36193 8.84483 9.28198 8.76127 9.17123C8.67709 9.05964 8.635 8.94131 8.635 8.81623C8.635 8.65927 8.67949 8.52868 8.76849 8.42444C8.85749 8.32021 8.98617 8.21782 9.15454 8.11727C8.94287 8.02408 8.77511 7.87448 8.65123 7.66847C8.52736 7.46246 8.46542 7.21966 8.46542 6.94008C8.46542 6.49127 8.60854 6.14425 8.89477 5.899C9.181 5.65375 9.5899 5.53113 10.1215 5.53113C10.2345 5.53113 10.3686 5.54155 10.5238 5.5624C10.6789 5.58324 10.7781 5.59857 10.8214 5.60838H12.2285V6.17858L11.5971 6.34413C11.7126 6.52806 11.7703 6.73407 11.7703 6.96215C11.7703 7.4036 11.6194 7.74756 11.3175 7.99403C11.0156 8.24051 10.5965 8.36375 10.0601 8.36375L9.8617 8.35271L9.69934 8.33432C9.58629 8.42261 9.52977 8.5207 9.52977 8.62861C9.52977 8.79048 9.73181 8.87141 10.1359 8.87141H10.8214C11.264 8.87141 11.6013 8.96828 11.8334 9.16203C12.0655 9.35578 12.1816 9.64026 12.1816 10.0155C12.1816 10.4962 11.985 10.869 11.5917 11.1338C11.1984 11.3987 10.6338 11.5311 9.89777 11.5311C9.33493 11.5311 8.90499 11.4312 8.60794 11.2313C8.31088 11.0314 8.16236 10.7512 8.16236 10.3907C8.16236 10.143 8.23812 9.93579 8.38966 9.76902C8.54119 9.60225 8.76368 9.48331 9.05712 9.41218ZM9.3187 9.91801C9.1828 10.0149 9.11485 10.143 9.11485 10.3024C9.11485 10.4569 9.18761 10.5783 9.33313 10.6666C9.47865 10.7549 9.6825 10.7991 9.94468 10.7991C10.3391 10.7991 10.6482 10.7439 10.8719 10.6335C11.0956 10.5232 11.2075 10.3723 11.2075 10.181C11.2075 10.0265 11.1413 9.91985 11.009 9.86099C10.8767 9.80213 10.6723 9.7727 10.3957 9.7727H9.82562C9.62357 9.7727 9.4546 9.82113 9.3187 9.91801ZM10.1215 6.21169C9.71738 6.21169 9.51533 6.45939 9.51533 6.95479C9.51533 7.17797 9.56524 7.35455 9.66506 7.48453C9.76488 7.61451 9.91702 7.6795 10.1215 7.6795C10.3283 7.6795 10.4799 7.61451 10.5761 7.48453C10.6723 7.35455 10.7204 7.17797 10.7204 6.95479C10.7204 6.45939 10.5207 6.21169 10.1215 6.21169Z",fill:"#6B6B6B"}),s().createElement("path",{d:"M12.9032 9.65682C12.7925 9.54768 12.7372 9.39379 12.7372 9.19514C12.7372 8.98913 12.7913 8.8334 12.8996 8.72794C13.0078 8.62248 13.1654 8.56975 13.3722 8.56975C13.5719 8.56975 13.7264 8.62371 13.8358 8.73162C13.9453 8.83953 14 8.99403 14 9.19514C14 9.38888 13.9447 9.54155 13.834 9.65314C13.7234 9.76473 13.5695 9.82052 13.3722 9.82052C13.1702 9.82052 13.0138 9.76595 12.9032 9.65682Z",fill:"#6B6B6B"}),s().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 3C0 2.44772 0.447715 2 1 2H15C15.5523 2 16 2.44772 16 3V13C16 13.5523 15.5523 14 15 14H1C0.447715 14 0 13.5523 0 13V3ZM1 3H15V13H1V3Z",fill:"#6B6B6B"})),be=s().forwardRef((function(e,t){return s().createElement(O.Z,(0,i.Z)({},e,{svg:he,ref:t}))}));be.getName=function(){return"icon-entity-example-stroke"};const fe=be;var Ce=s().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M1 2.5C1 1.67157 1.67157 1 2.5 1H13.5C14.3284 1 15 1.67157 15 2.5V10H14V2.5C14 2.22386 13.7761 2 13.5 2H2.5C2.22386 2 2 2.22386 2 2.5V13.5C2 13.7761 2.22386 14 2.5 14H10V15H2.5C1.67157 15 1 14.3284 1 13.5V2.5Z",fill:"#6B6B6B"}),s().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 6.5C5 6.22386 5.22386 6 5.5 6H10.5C10.7761 6 11 6.22386 11 6.5V9.5C11 9.77614 10.7761 10 10.5 10H5.5C5.22386 10 5 9.77614 5 9.5V6.5ZM6 7V9H10V7H6Z",fill:"#6B6B6B"}),s().createElement("path",{d:"M15 12H12V15H15V12Z",fill:"#6B6B6B"})),pe=s().forwardRef((function(e,t){return s().createElement(O.Z,(0,i.Z)({},e,{svg:Ce,ref:t}))}));pe.getName=function(){return"icon-entity-environment-stroke"};const me=pe,ge={collection:(0,o.jsx)(ie,{}),folder:(0,o.jsx)(re,{}),http:(0,o.jsx)(de,{}),"ws-raw":(0,o.jsx)(ue.Z,{}),grpc:(0,o.jsx)(ve.Z,{}),"http-response":(0,o.jsx)(fe,{}),environment:(0,o.jsx)(me,{}),default:(0,o.jsx)(ie,{})},xe=()=>{const{tabs:e,closeAllNonSelectedTabs:t,closeTab:n,closeAllTabs:a,activeTab:i,recentlyClosed:l,openFromRecentlyClosed:s}=h(),r=0===e.length;return(0,o.jsxs)(F.Z,{children:[(0,o.jsx)(G.Z,{children:(0,o.jsx)(I.Z,{icon:(0,o.jsx)(te.Z,{}),type:"tertiary","data-testid":"tabs-more-options-button"})}),(0,o.jsxs)(W.Z,{children:[(0,o.jsx)(K.Z,{label:"Recently Closed Tabs",children:0===l.length?(0,o.jsx)(q.Z,{isDisabled:!0,children:"None"}):l.map(((e,t)=>(0,o.jsx)(q.Z,{onClick:()=>s(t),children:(0,o.jsxs)(ee.Z,{alignItems:"center",gap:"spacing-s",children:[ge[e.tabType]||ge.default," ",e.title||"Untitled Tab"]})},e.id||e.pathname)))}),(0,o.jsx)(X,{}),(0,o.jsx)(q.Z,{onClick:()=>n(i),isDisabled:r,children:"Close Selected Tab"}),(0,o.jsx)(q.Z,{type:"destructive",onClick:()=>n(i,!0),isDisabled:r,children:"Force Close Selected Tab"}),(0,o.jsx)(q.Z,{onClick:()=>t(),isDisabled:r,children:"Close All but Selected Tab"}),(0,o.jsx)(q.Z,{onClick:()=>a(),isDisabled:r,children:"Close All Tabs"}),(0,o.jsx)(q.Z,{type:"destructive",onClick:()=>a(!0),isDisabled:r,children:"Force Close All Tabs"})]})]})};var we=s().createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("g",{clipPath:"url(#clip0)"},s().createElement("path",{d:"M6.56065 5.85356L9.70711 2.70711L9 2L5.85355 5.14645L2.70711 2.00002L2 2.70712L5.14644 5.85356L2 9L2.70711 9.70711L5.85355 6.56067L9 9.70712L9.70711 9.00002L6.56065 5.85356Z",fill:"#6B6B6B"})),s().createElement("defs",null,s().createElement("clipPath",{id:"clip0"},s().createElement("rect",{width:"12",height:"12",fill:"white"})))),Te=s().forwardRef((function(e,t){return s().createElement(O.Z,(0,i.Z)({},e,{svg:we,ref:t}))}));Te.getName=function(){return"icon-action-close-stroke-small"};const ye=Te;let Ze,je,Ee,ke,Le,Me,Ve=e=>e;const Be=P().div(Ze||(Ze=Ve``)),Ne=P().div(je||(je=Ve`
  width: 172px;
  display: flex;
  gap: 0.5rem;
  align-items: center;
  padding: calc(1px + var(--spacing-s)) var(--spacing-m);
  border-right: 1px solid var(--border-color-default);
  border-top: ${0};
  border-left: none;
  border-bottom: ${0};
  font-style: ${0};

  ${0}
`),(e=>e.$isActive?"2.5px solid var(--base-color-brand)":"1px solid var(--border-color-default)"),(e=>e.$isActive?"none":"1px solid var(--border-color-default)"),(e=>e.$isPreviewTab?"italic":""),(e=>e.$isDirty&&(0,A.css)(Ee||(Ee=Ve`
      .tab-close-icon {
        display: none;
      }

      &:hover {
        .tab-close-icon {
          display: flex;
        }

        .dirty-indicator {
          display: none;
        }
      }
    `)))),He=P().div(ke||(ke=Ve`
  font-family: var(--text-family-default);
  line-height: var(--line-height-s);
  font-size: var(--text-size-s);
  font-weight: var(--text-weight-regular);
  padding-left: var(--spacing-xs);
  flex: 1;
  align-self: center;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
`)),Re=P()(Be)(Le||(Le=Ve`
  display: flex;
  align-items: center;
  justify-content: center;
  height: var(--size-s);
  width: var(--size-s);
`)),De=P().div(Me||(Me=Ve`
  width: calc(1.02 * var(--spacing-s));
  height: var(--spacing-s);
  border-radius: 50%;
  background-color: var(--base-color-brand);
`)),Se=e=>null!=e&&e.isConflicted?"[CONFLICT] ":"",Ae=e=>{const{activeTab:t,setActiveTab:n,closeTab:a,setTabsMeta:s,tabsMeta:c}=h(),d=t===e.tab.id,u=c[e.tab.id],v=(null==u?void 0:u.currentlyActiveURL)||e.tab.pathname,b=T(e.tab,c),f=(0,l.useCallback)((t=>(t.preventDefault(),t.stopPropagation(),a(e.tab.id),null)),[a,e.tab.id]),C=(0,l.useCallback)((()=>{s((t=>(0,i.Z)({},t,{[e.tab.id]:(0,i.Z)({},u,{isPinned:!0})})))}),[e.tab.id,u,s]);return(0,o.jsx)(r.Link,{to:v,onClick:t=>{!d&&n(e.tab.id),d&&t.preventDefault(),d&&t.stopPropagation()},state:{navigationParams:{tabId:e.tab.id}},onContextMenu:e.onContextMenu,children:(0,o.jsxs)(Ne,{$isActive:d,$isDirty:null==u?void 0:u.isDirty,$isPreviewTab:b,onDoubleClick:C,"data-testid":"tab-header",children:[(0,o.jsx)(Be,{children:ge[null==u?void 0:u.tabType]||ge.default}),(0,o.jsxs)(He,{title:(null==u?void 0:u.title)||"Loading...",children:[Se(u),(null==u?void 0:u.title)||"Loading..."]}),(0,o.jsxs)(Re,{onClick:f,"data-testid":"tab-close-icon",children:[(null==u?void 0:u.isDirty)&&(0,o.jsx)(De,{className:"dirty-indicator"}),(0,o.jsx)(I.Z,{className:"tab-close-icon",type:"tertiary",size:"small",icon:(0,o.jsx)(ye,{})})]})]})},e.tab.id)};let Pe,Ie,Oe=e=>e;const $e=P().div(Pe||(Pe=Oe`
  width: 100%;
  overflow-x: auto;
  display: flex;
  min-height: var(--wp-tabs-header-height);

  &::-webkit-scrollbar {
    display: none;
  }

  -ms-overflow-style: none;
  scrollbar-width: none;
`)),Ue=P().div(Ie||(Ie=Oe`
  flex-grow: 1;
  border-bottom: 1px solid var(--border-color-default);
  height: calc(100% - 0.5px);
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding: 0 var(--spacing-xs);
  gap: var(--spacing-xs);
`)),_e=()=>{const{tabs:e}=h(),[t,n]=(0,l.useState)({open:!1}),{workspaceId:a}=(0,r.useParams)(),i=V(),s=(0,l.useCallback)((()=>{if(!a)return;const e=(0,g.v4)();i(`/workspace/${a}/request/create?requestId=${e}`,{},{newTab:!0,customNavEvent:"VIEW_COLLECTION_FOLDER_REQUEST"})}),[a,i]),c=(0,l.useCallback)(((e,t)=>{t.preventDefault(),n({open:!0,forTabId:e,position:{x:t.pageX,y:t.pageY}})}),[]),d=(0,l.useCallback)((()=>n({open:!1})),[]);return(0,o.jsxs)($e,{children:[e.map((e=>(0,o.jsx)(Ae,{tab:e,onContextMenu:t=>c(e.id,t)},e.id))),(0,o.jsx)(Q,{isOpen:null==t?void 0:t.open,forTabId:null==t?void 0:t.forTabId,position:null==t?void 0:t.position,closeMenu:d,createNewRequest:s}),(0,o.jsxs)(Ue,{children:[(0,o.jsx)(I.Z,{type:"tertiary",icon:(0,o.jsx)(_,{}),onClick:s}),(0,o.jsx)(xe,{})]})]})};var Fe=n(3723),We=n.n(Fe);let qe;const ze=P().div(qe||(qe=(e=>e)`
  display: ${0};
  height: var(--wp-workbench-height);
`),(({$isHidden:e})=>e?"none":"block")),Je=e=>{const t=!C();return p(),(0,o.jsx)(ze,{className:We()({"tab-content":!0,"is-hidden":t}),$isHidden:t,children:e.children})},Xe=({tab:e})=>{const{tabsMeta:t}=h(),n=Z(e),a=j(e),i=(0,l.useMemo)((()=>{var i,l,s,r;return{tabId:e.id,pathname:e.pathname,isDirty:null==(i=t[e.id])?void 0:i.isDirty,isConflicted:null==(l=t[e.id])?void 0:l.isConflicted,title:(null==(s=t[e.id])?void 0:s.title)||"",tabType:(null==(r=t[e.id])?void 0:r.tabType)||"http",setTabTitle:a,setTabState:n}}),[e.id,e.pathname,t,a,n]);return(0,o.jsx)(b.Provider,{value:i,children:(0,o.jsx)(Je,{children:e.element},e.pathname)})},Ye=({fallback:e})=>{const{tabs:t}=h();return(0,l.useMemo)((()=>(0,o.jsxs)(o.Fragment,{children:[0===t.length&&e?e:"",t.map((e=>(0,o.jsx)(Xe,{tab:e},e.pathname)))]})),[t,e])},Qe=({children:e})=>(y(),m(),(0,o.jsxs)(o.Fragment,{children:[e," "]})),Ge="tab-close-confirmation-modal",Ke=e=>`This tab ${e||"Untitled tab"} has unsaved changes which will be lost if you choose to close it. Save these changes to avoid losing your work.`,et=[{title:"Don't Save",isDefaultOnDismiss:!0},{title:"Cancel",isPrimary:!0}],tt="tab-force-close-confirmation-modal",nt=e=>`${e} tab${1===e?" has":"s have"} unsaved changes. Your changes will be lost if you force close this tab. Are you sure you want to force close?`,at=[{title:"Cancel",isDefaultOnDismiss:!0},{title:"Force Close",isPrimary:!0}],it=(e,t)=>{var n;return null==(n=t[e])?void 0:n.isDirty},lt=async(e,t)=>{const n=await e.showWarningDialog({uid:Ge,subject:"DO YOU WANT TO SAVE?",message:Ke(t),options:et});return!n||"Cancel"!==n.title},st=({fallback:e})=>{const t=V(),n=(0,r.useMatches)(),a=S.Modals.getModals(),[i,s]=(0,l.useState)(null),[c,d]=(0,l.useState)([]),[u,h]=(0,l.useState)({}),[b,f]=(0,l.useState)([]),C=(0,l.useCallback)((e=>{var n;s(e.id),t((null==(n=u[e.id])?void 0:n.currentlyActiveURL)||e.pathname)}),[t,u]),p=(0,l.useCallback)((e=>{e&&f((t=>{var n,a,i;return[...t,{id:e.id,pathname:(null==(n=u[e.id])?void 0:n.currentlyActiveURL)||e.pathname,title:null==(a=u[e.id])?void 0:a.title,tabType:null==(i=u[e.id])?void 0:i.tabType}]}))}),[u]),m=(0,l.useCallback)((e=>f((t=>[...t].splice(e,1)))),[]),g=(0,l.useCallback)((e=>{const n=b[e];t(n.pathname,{},{newTab:!0,customNavEvent:"VIEW_COLLECTION_FOLDER_REQUEST"}),m(e)}),[m,t,b]),x=(0,l.useCallback)((async(e,l=!1)=>{var s;const r=c.findIndex((t=>t.id===e));if(-1===r)return;const o=c[r],v=it(o.id,u);if(!l&&v&&!await lt(a,null==(s=u[e])?void 0:s.title))return;if(o.id===i){const e=((e,t)=>{const n=t-1;return e[t+1]||e[n]})(c,r);if(e)C(e);else{const e=n.at(-2);(null==e?void 0:e.pathname)&&t(e.pathname)}}const h=c.filter((t=>t.id!==e));d(h),p(o)}),[t,C,c,n,u,a,i,p]),w=(0,l.useCallback)((async(e=!1)=>{if(e){const e=c.filter((e=>it(e.id,u))).length;if(e&&!await(async(e,t)=>{const n=await e.showWarningDialog({uid:tt,subject:"Confirm force close",message:nt(t),options:at});return!n||"Cancel"!==n.title})(a,e))return;for(const e of c)p(e);d([]);const i=n.at(-2);return(null==i?void 0:i.pathname)&&t(i.pathname)}const i=[];for(const e of c){var l;it(e.id,u)&&!await lt(a,null==(l=u[e.id])?void 0:l.title)||(p(e),i.push(e.id))}d((e=>e.filter((e=>!i.includes(e.id)))))}),[c,a,n,t,u,p]),T=(0,l.useCallback)((async(e=i)=>{const t=[];for(const i of c){var n;i.id!==e&&(it(i.id,u)&&!await lt(a,null==(n=u[i.id])?void 0:n.title)||t.push(i.id))}d((e=>e.filter((e=>!t.includes(e.id)))))}),[i,c,a,u]),y=(0,l.useMemo)((()=>({tabs:c,setTabs:d,tabsMeta:u,setTabsMeta:h,recentlyClosed:b,closeTab:x,closeAllTabs:w,activeTab:i,setActiveTab:s,closeAllNonSelectedTabs:T,openFromRecentlyClosed:g})),[c,u,b,x,i,s,w,T,g]);return(0,o.jsx)(v.Provider,{value:y,children:(0,o.jsxs)(Qe,{children:[(0,o.jsx)(S.Modals.Ui.ModalDialog,{uid:Ge}),(0,o.jsx)(S.Modals.Ui.ModalDialog,{uid:tt}),(0,o.jsx)(_e,{}),(0,o.jsx)(Ye,{fallback:e})]})})}}}]);
//# sourceMappingURL=746.5e5a4d1ca04e5193.js.map