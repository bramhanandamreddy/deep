"use strict";(self.webpackChunkcollection_sidebar=self.webpackChunkcollection_sidebar||[]).push([[2798],{2798:(e,t,n)=>{function a(e){return window&&window.open(e,"_self","noopener,noreferrer")}n.r(t),n.d(t,{Link:()=>Z,OPEN_EXTENSION_URL:()=>M,PostmanTabsManager:()=>ze,checkContextAndNavigate:()=>a,openExternalLink:()=>O,useAdditionalRouteContext:()=>B,useBeforeTabbedWindowUnload:()=>m,useCurrentPostmanTabContext:()=>v,useIsActivePostmanTab:()=>p,useLoaderData:()=>V,useLocation:()=>w,useMountOutletOnNav:()=>T,useNavigate:()=>N,usePostmanTabsContext:()=>b,useSearchParams:()=>D,useSetTabState:()=>y,useSetTabTitle:()=>j,useTabTitleAndStateUpdates:()=>f,withRouter:()=>o});var i=n(540),s=n.n(i),l=n(607),r=n(2322);function o(e){return t=>{const n=(0,l.useLocation)(),a=(0,l.useNavigate)(),i=(0,l.useParams)();return(0,r.jsx)(e,Object.assign({location:n,navigate:a,params:i},t))}}var c=n(8283),d=n(4302);n(9605);const u=s().createContext(null),b=()=>(0,i.useContext)(u),h=s().createContext(null),v=()=>(0,i.useContext)(h),p=()=>{const e=b(),t=v(),{tabId:n}=t||{};return(null==e?void 0:e.activeTab)===n},f=()=>{const{pathname:e,search:t}=(0,l.useLocation)(),n=p(),{tabId:a,title:s,tabType:r,setTabState:o,isConflicted:c,isDirty:d}=v();(0,i.useEffect)((()=>{n&&s&&(o({title:s,tabType:r,isDirty:d,isConflicted:c}),globalThis.document.title=s)}),[n,a,s,r,d,c,o]),(0,i.useEffect)((()=>{o({currentlyActiveURL:e+t})}),[])},m=()=>{const{tabs:e,tabsMeta:t}=b();(0,i.useEffect)((()=>{const n=n=>(n.preventDefault(),e.find((e=>{var n;return null==(n=t[e.id])?void 0:n.isDirty}))||(n.returnValue="Are you sure you want to exit?"),n.returnValue);return window.addEventListener("beforeunload",n,{capture:!0}),()=>window.removeEventListener("beforeunload",n,{capture:!0})}),[])};var C=n(8722);const g=(e,...t)=>{const n=e(...t),a=b(),s=!!v(),l=p(),r=(0,i.useRef)(n);return(0,i.useEffect)((()=>{l&&(r.current=n)}),[l,n]),a&&s&&!l?r.current:n},w=()=>g(l.useLocation),x=(e,t)=>{const n=t[e.id];return!(null!=n&&n.isDirty||null!=n&&n.isConflicted||null!=n&&n.isPinned)},T=()=>{const{tabs:e,tabsMeta:t,setTabs:n,setTabsMeta:a,setActiveTab:s}=b(),r=w(),{state:o,pathname:c,search:d}=r,u=(0,l.useOutlet)(),h=(0,i.useMemo)((()=>u),[c+d]),v=(0,i.useCallback)(((t,a)=>{const i=e.map((e=>e.id===a?t:e));return s(t.id),n(i)}),[s,n,e]),p=(0,i.useCallback)(((i,l,r)=>{const o=Object.assign({replacePreviewTab:!0,pinNewTab:!1},r),c=(0,C.v4)(),d={pathname:i,element:l,id:c},u=e.find((e=>x(e,t)));return u&&null!=o&&o.replacePreviewTab?v(d,u.id):(s(c),null!=o&&o.pinNewTab&&a((e=>Object.assign({},e,{[c]:Object.assign({},e[c],{isPinned:!0})}))),n((e=>[...e,{pathname:i,element:l,id:c}])))}),[e,v,s,n,t,a]);(0,i.useEffect)((()=>{if(!h)return;const t=(e=>{if("string"==typeof e)try{var t;return(null==(t=JSON.parse(e))?void 0:t.navigationParams)||{}}catch(e){return{}}return(null==e?void 0:e.navigationParams)||{}})(o),{tabId:n,newTab:a,sameTab:i}=t;if(a)return p(c,h,{replacePreviewTab:!1,pinNewTab:!0});if(i&&n&&-1!==e.findIndex((e=>e.id===n)))return v({id:(0,C.v4)(),pathname:c,element:h},n);if(n){var l;const t=null==(l=e.find((e=>e.id===n)))?void 0:l.id;if(t)return s(t)}const r=e.find((e=>e.pathname===c));return r?s(null==r?void 0:r.id):p(c,h)}),[h])},y=e=>{const{setTabsMeta:t,activeTab:n}=b();return(0,i.useCallback)((a=>{n===e.id&&t((t=>{const n=Object.assign({},t[e.id]),i={};return"title"in a&&(i.title=a.title||""),"isDirty"in a&&(i.isDirty=a.isDirty||!1),"isConflicted"in a&&(i.isConflicted=a.isConflicted||!1),"tabType"in a&&(i.tabType=a.tabType||"http"),"currentlyActiveURL"in a&&(i.currentlyActiveURL=a.currentlyActiveURL||""),Object.assign({},t,{[e.id]:Object.assign({},n,i)})}))}),[t,e.id,n])},j=e=>{const t=y(e);return(0,i.useCallback)((e=>t({title:e})),[t])},L=["children","to"],k=["children","to"],E=e=>{let{children:t,to:n}=e,a=(0,c.Z)(e,L);const{tabId:i}=v()||{};return(0,r.jsx)(l.Link,Object.assign({to:n},a,{state:Object.assign({},a.state,{navigationParams:{sameTab:a.sameTab||!1,newTab:a.newTab||!1,tabId:a.sameTab||a.newTab?i:null}}),children:t}))},Z=e=>{let{children:t,to:n}=e,a=(0,c.Z)(e,k);if(a.customNavEvent)return(0,r.jsx)(d.VSCodeLink,Object.assign({to:n},a,{children:t}));const i=Object.assign({},{target:"_self",rel:"noreferrer noopener"},a),s=n.toString();return new RegExp("https?:\\/\\/").test(s)?(0,r.jsx)("a",Object.assign({href:s},i,{onClick:async e=>{a.onClick&&a.onClick(e),e.defaultPrevented},children:t})):(0,r.jsx)(E,Object.assign({to:n},i,{children:t}))},N=()=>{const{tabId:e}=v()||{},t=(0,l.useNavigate)();return(n,a,i)=>{const s=Object.assign({},a),l={sameTab:(null==i?void 0:i.sameTab)||!1,newTab:(null==i?void 0:i.newTab)||!1,tabId:null!=i&&i.sameTab||null!=i&&i.newTab?e:null};if(s.state=null!=a&&a.state&&"string"==typeof a.state?JSON.stringify(Object.assign({},JSON.parse(a.state),{navigationParams:l})):Object.assign({},null==a?void 0:a.state,{navigationParams:l}),null==i||!i.customNavEvent||((0,d.vscodeNavigate)(n,a,i),i["customNavEvent-updateURL"]))return t(n,s)}},M="VIEW_COLLECTION_FOLDER_REQUEST";async function O(e){await(0,d.vsCodeOpenExternalLink)(e)}const B=()=>{const e=(0,l.useLocation)();return(0,i.useMemo)((()=>{const t=(e=>{try{var t;if(!e)return{};let n;return"string"==typeof e&&(n=JSON.parse(e)),(null==(t=n)?void 0:t.additionalContext)||{}}catch(e){return{}}})(e.state);return Object.assign({},t,(()=>{try{var e;return(null==(e=JSON.parse(window.NAVIGATION_CONTEXT))||null==(e=e.params)||null==(e=e.state)?void 0:e.additionalContext)||{}}catch(e){return{}}})())}),[e.state])},D=()=>{const e=(0,l.useLocation)(),[t,n]=g(l.useSearchParams),a=b(),{setTabState:s,tabId:r}=v()||{};return[t,(0,i.useCallback)((t=>{if(n(t,{state:a&&r?{navigationParams:{tabId:r}}:void 0}),r&&a&&s){const n=t.toString(),a=`${e.pathname}${n?"?"+n:""}`;s({currentlyActiveURL:a})}}),[n,a,e.pathname,s,r])]},V=()=>g(l.useLoaderData);var I=n(7363),R=n(5892),H=n.n(R),S=n(605),A=n(5869),P=n(4691),_=n(9824),U=n(7282),$=H().hr.withConfig({displayName:"MenuDivider__StyledMenuDivider",componentId:"dii7go-0"})(["border:none;border-bottom:",";margin:",";"],(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["border-color-default"],";")}),(function(e){return e.theme["spacing-s"]}));function F(){return s().createElement($,null)}F.displayName="MenuDivider";const W=F,q=({isOpen:e,forTabId:t,position:n,createNewRequest:a,closeMenu:i})=>{const{closeAllNonSelectedTabs:s,closeTab:l,closeAllTabs:o}=b();return(0,r.jsx)(P.Z,{isOpen:e,contextMenu:{posX:null==n?void 0:n.x,posY:null==n?void 0:n.y},closeMenu:i,children:(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(U.Z,{onClick:a,children:"New Request"}),(0,r.jsx)(W,{}),(0,r.jsx)(U.Z,{onClick:()=>l(t),children:"Close Tab"}),(0,r.jsx)(U.Z,{onClick:()=>l(t,!0),children:"Force Close Tab"}),(0,r.jsx)(U.Z,{onClick:()=>s(),children:"Close Other Tabs"}),(0,r.jsx)(U.Z,{onClick:()=>o(),children:"Close All Tabs"}),(0,r.jsx)(U.Z,{onClick:()=>o(!0),children:"Force Close All Tabs"})]})})},z=e=>(0,r.jsx)(q,Object.assign({},e));var J=n(8263),X=n(6914),Y=n(8560),Q=n(9225),G=n(7560),K=n(207),ee=s().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M2 2H14V1H2V2Z",fill:"#6B6B6B"}),s().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.74394 4C1.3022 4 0.970902 4.40413 1.05753 4.83728L2.97753 14.4373C3.04297 14.7645 3.33026 15 3.66394 15H12.336C12.6697 15 12.957 14.7645 13.0224 14.4373L14.9424 4.83728C15.0291 4.40413 14.6978 4 14.256 4H1.74394ZM3.90988 14L2.10988 5H13.8901L12.0901 14H3.90988Z",fill:"#6B6B6B"})),te=s().forwardRef((function(e,t){return s().createElement(K.Z,(0,G.Z)({},e,{svg:ee,ref:t}))}));te.getName=function(){return"icon-entity-collection-stroke"};const ne=te;var ae=n(5547),ie=s().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"m12.654.046-.707.707L13.593 2.4H0v1h16.007L12.654.046ZM-.007 12.599l3.353 3.353.707-.707L2.407 13.6H16v-1H-.007ZM.011 11.2h.977V8.478h2.327V11.2h.98V4.927h-.98V7.64H.988V4.927H.01V11.2ZM4.784 5.768H5.9V11.2h.973V5.768h.92v-.84h-3.01v.84ZM9.283 5.768h-.916v-.84h3.01v.84h-1.12V11.2h-.974V5.768Z",fill:"#6B6B6B"}),s().createElement("path",{fillRule:"evenodd",d:"M11.87 11.2h.976V8.924h.927c1.501 0 2.244-.807 2.244-2.001 0-1.192-.736-1.996-2.24-1.996h-1.908V11.2Zm.976-3.104V5.765h.826c.967 0 1.362.424 1.362 1.158 0 .733-.395 1.173-1.35 1.173h-.838Z",fill:"#6B6B6B"})),se=s().forwardRef((function(e,t){return s().createElement(K.Z,(0,G.Z)({},e,{svg:ie,ref:t}))}));se.getName=function(){return"icon-entity-httpRequest-stroke"};const le=se;var re=s().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M1 2H5.25736C5.9204 2 6.55629 2.26339 7.02513 2.73223L9.29289 5L5 9.29289L3.73223 8.02513C3.26339 7.55628 3 6.9204 3 6.25736V4H2V6.25736C2 7.18562 2.36875 8.07585 3.02513 8.73223L5 10.7071L6.25004 9.45711L8.64648 11.8536L9.35359 11.1464L6.95714 8.75L8.75004 6.95711L11.1465 9.35355L11.8536 8.64645L9.45714 6.25L10.7071 5L7.73223 2.02513C7.07586 1.36875 6.18562 1 5.25736 1H1V2Z",fill:"#6B6B6B"}),s().createElement("path",{d:"M10.6465 2.35355L13.2678 4.97487C13.7366 5.44372 14 6.0796 14 6.74264V12H15V6.74264C15 5.81438 14.6313 4.92414 13.9749 4.26777L11.3536 1.64645L10.6465 2.35355Z",fill:"#6B6B6B"}),s().createElement("path",{d:"M4.26781 13.9749L1.64648 11.3536L2.35359 10.6464L4.97491 13.2678C5.44375 13.7366 6.07964 14 6.74268 14H15V15H6.74268C5.81442 15 4.92418 14.6313 4.26781 13.9749Z",fill:"#6B6B6B"})),oe=s().forwardRef((function(e,t){return s().createElement(K.Z,(0,G.Z)({},e,{svg:re,ref:t}))}));oe.getName=function(){return"icon-entity-websocket-stroke"};const ce=oe;var de=s().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M5.51328 1L3 3.51328L5.51328 6.02656L6.13607 5.40377L4.68605 3.95376H11.3672L10.3574 4.9635L10.9802 5.58628L13.0531 3.51338L10.9802 1.44048L10.3574 2.06327L11.3672 3.073H4.68585L6.13607 1.62279L5.51328 1Z",fill:"#6B6B6B"}),s().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.34761 12.3349C7.7281 12.5956 8.16848 12.7259 8.66875 12.7259C9.04923 12.7259 9.4121 12.6343 9.75736 12.4511C10.1026 12.2609 10.3739 12.0002 10.5712 11.669V12.5146C10.5712 12.888 10.4901 13.1945 10.3281 13.4341C10.166 13.6736 9.9476 13.8498 9.67281 13.9625C9.40506 14.0823 9.11265 14.1422 8.79557 14.1422C8.41509 14.1422 8.05574 14.0647 7.71753 13.9097C7.38637 13.7547 7.11509 13.5292 6.90371 13.2333L6.24843 13.8463C6.52323 14.2127 6.86144 14.5015 7.26306 14.7129C7.67173 14.9243 8.18257 15.03 8.79557 15.03C9.35221 15.03 9.85248 14.9314 10.2964 14.7341C10.7403 14.5368 11.0891 14.2514 11.3427 13.878C11.6034 13.5045 11.7338 13.0501 11.7338 12.5146V7.14548H10.7086V8.19182C10.4901 7.85361 10.2118 7.57881 9.87362 7.36743C9.54245 7.15605 9.15492 7.05036 8.71102 7.05036C8.20371 7.05036 7.75628 7.18071 7.36875 7.44141C6.98826 7.69507 6.68881 8.04033 6.47038 8.47718C6.25195 8.91404 6.14274 9.39317 6.14274 9.91457C6.14274 10.4148 6.24843 10.8799 6.45981 11.3097C6.67824 11.7325 6.97417 12.0742 7.34761 12.3349ZM9.71508 11.6373C9.5037 11.736 9.28175 11.7853 9.04923 11.7853C8.72511 11.7853 8.4327 11.7043 8.172 11.5422C7.9113 11.3731 7.70344 11.1512 7.54843 10.8764C7.40046 10.5945 7.32647 10.2845 7.32647 9.94628C7.32647 9.62921 7.39341 9.32623 7.52729 9.03734C7.66116 8.74141 7.84788 8.50184 8.08745 8.31865C8.33406 8.13545 8.62647 8.04385 8.96468 8.04385C9.29584 8.04385 9.60939 8.15659 9.90533 8.38206C10.2083 8.60049 10.4303 8.88585 10.5712 9.23816V10.6861C10.5148 10.8764 10.4091 11.056 10.2541 11.2251C10.1061 11.3942 9.92646 11.5316 9.71508 11.6373Z",fill:"#6B6B6B"})),ue=s().forwardRef((function(e,t){return s().createElement(K.Z,(0,G.Z)({},e,{svg:de,ref:t}))}));ue.getName=function(){return"icon-entity-gRPC-stroke"};const be=ue;var he=n(907),ve=s().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M1 2.5C1 1.67157 1.67157 1 2.5 1H13.5C14.3284 1 15 1.67157 15 2.5V10H14V2.5C14 2.22386 13.7761 2 13.5 2H2.5C2.22386 2 2 2.22386 2 2.5V13.5C2 13.7761 2.22386 14 2.5 14H10V15H2.5C1.67157 15 1 14.3284 1 13.5V2.5Z",fill:"#6B6B6B"}),s().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 6.5C5 6.22386 5.22386 6 5.5 6H10.5C10.7761 6 11 6.22386 11 6.5V9.5C11 9.77614 10.7761 10 10.5 10H5.5C5.22386 10 5 9.77614 5 9.5V6.5ZM6 7V9H10V7H6Z",fill:"#6B6B6B"}),s().createElement("path",{d:"M15 12H12V15H15V12Z",fill:"#6B6B6B"})),pe=s().forwardRef((function(e,t){return s().createElement(K.Z,(0,G.Z)({},e,{svg:ve,ref:t}))}));pe.getName=function(){return"icon-entity-environment-stroke"};const fe=pe,me={collection:(0,r.jsx)(ne,{}),folder:(0,r.jsx)(ae.Z,{}),http:(0,r.jsx)(le,{}),"ws-raw":(0,r.jsx)(ce,{}),grpc:(0,r.jsx)(be,{}),"http-response":(0,r.jsx)(he.Z,{}),environment:(0,r.jsx)(fe,{}),default:(0,r.jsx)(ne,{})},Ce=()=>{const{tabs:e,closeAllNonSelectedTabs:t,closeTab:n,closeAllTabs:a,activeTab:i,recentlyClosed:s,openFromRecentlyClosed:l}=b(),o=0===e.length;return(0,r.jsxs)(P.Z,{children:[(0,r.jsx)(J.Z,{children:(0,r.jsx)(S.Z,{icon:(0,r.jsx)(Q.Z,{}),type:"tertiary","data-testid":"tabs-more-options-button"})}),(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(X.Z,{label:"Recently Closed Tabs",children:0===s.length?(0,r.jsx)(U.Z,{isDisabled:!0,children:"None"}):s.map(((e,t)=>(0,r.jsx)(U.Z,{onClick:()=>l(t),children:(0,r.jsxs)(Y.Z,{alignItems:"center",gap:"spacing-s",children:[me[e.tabType]||me.default," ",e.title||"Untitled Tab"]})},e.id||e.pathname)))}),(0,r.jsx)(W,{}),(0,r.jsx)(U.Z,{onClick:()=>n(i),isDisabled:o,children:"Close Selected Tab"}),(0,r.jsx)(U.Z,{type:"destructive",onClick:()=>n(i,!0),isDisabled:o,children:"Force Close Selected Tab"}),(0,r.jsx)(U.Z,{onClick:()=>t(),isDisabled:o,children:"Close All but Selected Tab"}),(0,r.jsx)(U.Z,{onClick:()=>a(),isDisabled:o,children:"Close All Tabs"}),(0,r.jsx)(U.Z,{type:"destructive",onClick:()=>a(!0),isDisabled:o,children:"Force Close All Tabs"})]})]})};var ge=s().createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("g",{clipPath:"url(#clip0)"},s().createElement("path",{d:"M6.56065 5.85356L9.70711 2.70711L9 2L5.85355 5.14645L2.70711 2.00002L2 2.70712L5.14644 5.85356L2 9L2.70711 9.70711L5.85355 6.56067L9 9.70712L9.70711 9.00002L6.56065 5.85356Z",fill:"#6B6B6B"})),s().createElement("defs",null,s().createElement("clipPath",{id:"clip0"},s().createElement("rect",{width:"12",height:"12",fill:"white"})))),we=s().forwardRef((function(e,t){return s().createElement(K.Z,(0,G.Z)({},e,{svg:ge,ref:t}))}));we.getName=function(){return"icon-action-close-stroke-small"};const xe=we,Te=H().div.withConfig({displayName:"tab-header-item__TabIcon",componentId:"sc-ie23dr-0"})([""]),ye=H().div.withConfig({displayName:"tab-header-item__TabHeaderDiv",componentId:"sc-ie23dr-1"})(["width:172px;display:flex;gap:0.5rem;align-items:center;padding:calc(1px + var(--spacing-s)) var(--spacing-m);border-right:1px solid var(--border-color-default);border-top:",";border-left:none;border-bottom:",";font-style:",";",""],(e=>e.$isActive?"2.5px solid var(--base-color-brand)":"1px solid var(--border-color-default)"),(e=>e.$isActive?"none":"1px solid var(--border-color-default)"),(e=>e.$isPreviewTab?"italic":""),(e=>e.$isDirty&&(0,R.css)([".tab-close-icon{display:none;}&:hover{.tab-close-icon{display:flex;}.dirty-indicator{display:none;}}"]))),je=H().div.withConfig({displayName:"tab-header-item__TabTitle",componentId:"sc-ie23dr-2"})(["font-family:var(--text-family-default);line-height:var(--line-height-s);font-size:var(--text-size-s);font-weight:var(--text-weight-regular);padding-left:var(--spacing-xs);flex:1;align-self:center;white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis;"]),Le=H()(Te).withConfig({displayName:"tab-header-item__TabCloseIconWrapper",componentId:"sc-ie23dr-3"})(["display:flex;align-items:center;justify-content:center;height:var(--size-s);width:var(--size-s);"]),ke=H().div.withConfig({displayName:"tab-header-item__DirtyStateIndicator",componentId:"sc-ie23dr-4"})(["width:calc(1.02 * var(--spacing-s));height:var(--spacing-s);border-radius:50%;background-color:var(--base-color-brand);"]),Ee=e=>null!=e&&e.isConflicted?"[CONFLICT] ":"",Ze=e=>{const{activeTab:t,setActiveTab:n,closeTab:a,setTabsMeta:s,tabsMeta:o}=b(),c=t===e.tab.id,d=o[e.tab.id],u=(null==d?void 0:d.currentlyActiveURL)||e.tab.pathname,h=x(e.tab,o),v=(0,i.useCallback)((t=>(t.preventDefault(),t.stopPropagation(),a(e.tab.id),null)),[a,e.tab.id]),p=(0,i.useCallback)((()=>{s((t=>Object.assign({},t,{[e.tab.id]:Object.assign({},d,{isPinned:!0})})))}),[e.tab.id,d,s]);return(0,r.jsx)(l.Link,{to:u,onClick:t=>{!c&&n(e.tab.id),c&&t.preventDefault(),c&&t.stopPropagation()},state:{navigationParams:{tabId:e.tab.id}},onContextMenu:e.onContextMenu,children:(0,r.jsxs)(ye,{$isActive:c,$isDirty:null==d?void 0:d.isDirty,$isPreviewTab:h,onDoubleClick:p,"data-testid":"tab-header",children:[(0,r.jsx)(Te,{children:me[null==d?void 0:d.tabType]||me.default}),(0,r.jsxs)(je,{title:(null==d?void 0:d.title)||"Loading...",children:[Ee(d),(null==d?void 0:d.title)||"Loading..."]}),(0,r.jsxs)(Le,{onClick:v,"data-testid":"tab-close-icon",children:[(null==d?void 0:d.isDirty)&&(0,r.jsx)(ke,{className:"dirty-indicator"}),(0,r.jsx)(S.Z,{className:"tab-close-icon",type:"tertiary",size:"small",icon:(0,r.jsx)(xe,{})})]})]})},e.tab.id)},Ne=H().div.withConfig({displayName:"tabs-header__TabsHeaderWrapper",componentId:"sc-193ka6n-0"})(["width:100%;overflow-x:auto;display:flex;min-height:var(--wp-tabs-header-height);&::-webkit-scrollbar{display:none;}-ms-overflow-style:none;scrollbar-width:none;"]),Me=H().div.withConfig({displayName:"tabs-header__TabHeaderFiller",componentId:"sc-193ka6n-1"})(["flex-grow:1;border-bottom:1px solid var(--border-color-default);height:calc(100% - 0.5px);display:flex;align-items:center;justify-content:flex-start;padding:0 var(--spacing-xs);gap:var(--spacing-xs);"]),Oe=()=>{const{tabs:e}=b(),[t,n]=(0,i.useState)({open:!1}),{workspaceId:a}=(0,l.useParams)(),s=N(),o=(0,i.useCallback)((()=>{if(!a)return;const e=(0,C.v4)();s(`/workspace/${a}/request/create?requestId=${e}`,{},{newTab:!0,customNavEvent:"VIEW_COLLECTION_FOLDER_REQUEST"})}),[a,s]),c=(0,i.useCallback)(((e,t)=>{t.preventDefault(),n({open:!0,forTabId:e,position:{x:t.pageX,y:t.pageY}})}),[]),d=(0,i.useCallback)((()=>n({open:!1})),[]);return(0,r.jsxs)(Ne,{children:[e.map((e=>(0,r.jsx)(Ze,{tab:e,onContextMenu:t=>c(e.id,t)},e.id))),(0,r.jsx)(z,{isOpen:null==t?void 0:t.open,forTabId:null==t?void 0:t.forTabId,position:null==t?void 0:t.position,closeMenu:d,createNewRequest:o}),(0,r.jsxs)(Me,{children:[(0,r.jsx)(S.Z,{type:"tertiary",icon:(0,r.jsx)(A.Z,{}),onClick:o}),(0,r.jsx)(Ce,{})]})]})};var Be=n(3723),De=n.n(Be);const Ve=H().div.withConfig({displayName:"tab__TabContentWrapper",componentId:"sc-118jy4w-0"})(["display:",";height:var(--wp-workbench-height);"],(({$isHidden:e})=>e?"none":"block")),Ie=e=>{const t=!p();return f(),(0,r.jsx)(Ve,{className:De()({"tab-content":!0,"is-hidden":t}),$isHidden:t,children:e.children})},Re=({tab:e})=>{const{tabsMeta:t}=b(),n=y(e),a=j(e),s=(0,i.useMemo)((()=>{var i,s,l,r;return{tabId:e.id,pathname:e.pathname,isDirty:null==(i=t[e.id])?void 0:i.isDirty,isConflicted:null==(s=t[e.id])?void 0:s.isConflicted,title:(null==(l=t[e.id])?void 0:l.title)||"",tabType:(null==(r=t[e.id])?void 0:r.tabType)||"http",setTabTitle:a,setTabState:n}}),[e.id,e.pathname,t,a,n]);return(0,r.jsx)(h.Provider,{value:s,children:(0,r.jsx)(Ie,{children:e.element},e.pathname)})},He=({fallback:e})=>{const{tabs:t}=b();return(0,i.useMemo)((()=>(0,r.jsxs)(r.Fragment,{children:[0===t.length&&e?e:"",t.map((e=>(0,r.jsx)(Re,{tab:e},e.pathname)))]})),[t,e])},Se=({children:e})=>(T(),m(),(0,r.jsxs)(r.Fragment,{children:[e," "]})),Ae="tab-close-confirmation-modal",Pe=e=>`This tab ${e||"Untitled tab"} has unsaved changes which will be lost if you choose to close it. Save these changes to avoid losing your work.`,_e=[{title:"Don't Save",isDefaultOnDismiss:!0},{title:"Cancel",isPrimary:!0}],Ue="tab-force-close-confirmation-modal",$e=e=>`${e} tab${1===e?" has":"s have"} unsaved changes. Your changes will be lost if you force close this tab. Are you sure you want to force close?`,Fe=[{title:"Cancel",isDefaultOnDismiss:!0},{title:"Force Close",isPrimary:!0}],We=(e,t)=>{var n;return null==(n=t[e])?void 0:n.isDirty},qe=async(e,t)=>{const n=await e.showWarningDialog({uid:Ae,subject:"DO YOU WANT TO SAVE?",message:Pe(t),options:_e});return!n||"Cancel"!==n.title},ze=({fallback:e})=>{const t=N(),n=(0,l.useMatches)(),a=I.Modals.getModals(),[s,o]=(0,i.useState)(null),[c,d]=(0,i.useState)([]),[b,h]=(0,i.useState)({}),[v,p]=(0,i.useState)([]),f=(0,i.useCallback)((e=>{var n;o(e.id),t((null==(n=b[e.id])?void 0:n.currentlyActiveURL)||e.pathname)}),[t,b]),m=(0,i.useCallback)((e=>{e&&p((t=>{var n,a,i;return[...t,{id:e.id,pathname:(null==(n=b[e.id])?void 0:n.currentlyActiveURL)||e.pathname,title:null==(a=b[e.id])?void 0:a.title,tabType:null==(i=b[e.id])?void 0:i.tabType}]}))}),[b]),C=(0,i.useCallback)((e=>p((t=>[...t].splice(e,1)))),[]),g=(0,i.useCallback)((e=>{const n=v[e];t(n.pathname,{},{newTab:!0,customNavEvent:"VIEW_COLLECTION_FOLDER_REQUEST"}),C(e)}),[C,t,v]),w=(0,i.useCallback)((async(e,i=!1)=>{var l;const r=c.findIndex((t=>t.id===e));if(-1===r)return;const o=c[r],u=We(o.id,b);if(!i&&u&&!await qe(a,null==(l=b[e])?void 0:l.title))return;if(o.id===s){const e=((e,t)=>{const n=t-1;return e[t+1]||e[n]})(c,r);if(e)f(e);else{const e=n.at(-2);(null==e?void 0:e.pathname)&&t(e.pathname)}}const h=c.filter((t=>t.id!==e));d(h),m(o)}),[t,f,c,n,b,a,s,m]),x=(0,i.useCallback)((async(e=!1)=>{if(e){const e=c.filter((e=>We(e.id,b))).length;if(e&&!await(async(e,t)=>{const n=await e.showWarningDialog({uid:Ue,subject:"Confirm force close",message:$e(t),options:Fe});return!n||"Cancel"!==n.title})(a,e))return;for(const e of c)m(e);d([]);const i=n.at(-2);return(null==i?void 0:i.pathname)&&t(i.pathname)}const i=[];for(const e of c){var s;We(e.id,b)&&!await qe(a,null==(s=b[e.id])?void 0:s.title)||(m(e),i.push(e.id))}d((e=>e.filter((e=>!i.includes(e.id)))))}),[c,a,n,t,b,m]),T=(0,i.useCallback)((async(e=s)=>{const t=[];for(const i of c){var n;i.id!==e&&(We(i.id,b)&&!await qe(a,null==(n=b[i.id])?void 0:n.title)||t.push(i.id))}d((e=>e.filter((e=>!t.includes(e.id)))))}),[s,c,a,b]),y=(0,i.useMemo)((()=>({tabs:c,setTabs:d,tabsMeta:b,setTabsMeta:h,recentlyClosed:v,closeTab:w,closeAllTabs:x,activeTab:s,setActiveTab:o,closeAllNonSelectedTabs:T,openFromRecentlyClosed:g})),[c,b,v,w,s,o,x,T,g]);return(0,r.jsx)(u.Provider,{value:y,children:(0,r.jsxs)(Se,{children:[(0,r.jsx)(I.Modals.Ui.ModalDialog,{uid:Ae}),(0,r.jsx)(I.Modals.Ui.ModalDialog,{uid:Ue}),(0,r.jsx)(Oe,{}),(0,r.jsx)(He,{fallback:e})]})})}}}]);
//# sourceMappingURL=2798.779f45c2f78d6034.js.map